---
---
---
# Cumulative link models (CLMs)
# Cumulative link models (CLMs)
unlink("clm_intro_cache", recursive = TRUE)
---
---
---
# Cumulative link models (CLMs)
```{r}
x <- seq(-5, 5, l = 1000)
plot(plogis(x) ~ x, ylab = 'Ïƒ(x)', type = 'l')
---
---
---
# Cumulative link models (CLMs)
preds <- ggpredict(mod, terms = c("height [all]"))
source("~/.active-rstudio-document", echo=TRUE)
preds <- ggpredict(mod, terms = c("height [all]"))
library(ggeffects)
preds <- ggpredict(mod, terms = c("height [all]"))
mod <- clm(agreement ~ height + categ, data = data)
library(ordinal)
mod <- clm(agreement ~ height + categ, data = data)
preds <- ggpredict(mod, terms = c("height [all]"))
plot(preds)
preds <- ggpredict(mod, terms = c("height [all]"))
plot(preds) + facet_wrap(~response.level, nrow = 1)
library(ggplot2)
plot(preds) + facet_wrap(~response.level, nrow = 1)
preds <- ggpredict(mod, terms = c("categ"))
plot(preds)
preds <- ggpredict(mod, terms = c("height [all]"))
plot(preds)
preds <- ggpredict(mod, terms = c("categ"))
plot(preds)
plot(preds) + facet_wrap(~response.level, nrow = 1)
preds <- ggpredict(mod, terms = c("categ"))
df <- as.data.frame(preds,
terms_to_colnames = T) # This arg is important!
ggplot(df, aes(y = predicted, x = agreement, fill = agreement)) +
geom_col(position = position_dodge()) +
geom_errorbar(aes(ymin = conf.low, ymax = conf.high),
width = 0) +
facet_wrap(~categ, nrow = 1) +
scale_fill_gradientn(colours = c('cornflowerblue', 'wheat', 'tomato')) +
theme_classic()
```{r}
head(df)
?ggpredict
ggplot(df, aes(y = predicted, x = agreement, fill = agreement)) +
geom_col(position = position_dodge()) +
geom_errorbar(aes(ymin = conf.low, ymax = conf.high),
width = 0) +
facet_wrap(~categ, nrow = 1) +
scale_fill_gradientn(colours = c('cornflowerblue', 'wheat', 'tomato')) +
theme_classic()
preds <- ggpredict(mod, terms = c("height [all]"))
plot(preds)
preds <- ggpredict(mod, terms = c("height [1.4,1.5,1.6,1.7,1.8,1.9]"))
df <- as.data.frame(preds,
terms_to_colnames = T) # This arg is important!
# Cumulative link models (CLMs)
preds <- ggpredict(mod, terms = c("categ"))
plot(preds)
---
---
---
# Cumulative link models (CLMs)
preds_cont <- ggpredict(mod, terms = c("height [all]"))
plot(preds_cont)
preds_cat <- ggpredict(mod, terms = c("categ"))
plot(preds_cat)
plot(preds_con) + facet_wrap(~response.level, nrow = 1)
preds_con <- ggpredict(mod, terms = c("height [all]"))
plot(preds_con)
plot(preds_con) + facet_wrap(~response.level, nrow = 1)
plot(preds_cat) + facet_wrap(~response.level, nrow = 1)
preds <- ggpredict(mod, terms = c("categ"))
df <- as.data.frame(preds,
terms_to_colnames = T) # This arg is important!
head(df)
preds <- ggpredict(mod, terms = c("height [1.4,1.5,1.6,1.7,1.8,1.9]"))
df <- as.data.frame(preds,
terms_to_colnames = T) # This arg is important!
ggplot(df, aes(y = predicted, x = agreement, fill = height, group = height)) +
geom_col(position = position_dodge()) +
geom_errorbar(aes(ymin = conf.low, ymax = conf.high),
width = 0,
position = position_dodge(width = 0.9)) +
scale_fill_gradientn(colours = c('cornflowerblue', 'wheat', 'tomato')) +
theme_classic()
preds_con <- ggpredict(mod, terms = c("height [all]"))
plot(preds_con)
